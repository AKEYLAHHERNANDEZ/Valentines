<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Poem Puzzle</title>
    <style>
        /* Import Google Font */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        /* Body Styles */
        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            color: #333;
            overflow: hidden;
            background: linear-gradient(-45deg, #ffffff, #720638, #e439b3, #ffffff);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        h1 {
            color: #000000;
            margin-top: 0%;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        #puzzle-container {
    display: grid;
    grid-template-columns: repeat(3, 160px); /* Increased from 120px to 160px */
    grid-template-rows: repeat(3, 160px); /* Increased from 120px to 160px */
    gap: 15px; /* Increased gap for better spacing */
    margin: 40px auto;
    width: fit-content;
    background: rgba(219, 12, 140, 0.8);
    padding: 25px; /* Increased padding */
    border-radius: 20px; /* Slightly larger border radius */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    perspective: 800px;
}

.puzzle-piece {
    width: 160px; /* Increased from 120px to 160px */
    height: 160px; /* Increased from 120px to 160px */
    background: linear-gradient(to bottom, #ffc0cb, #ffb6c1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;  /* Slightly larger font size */
    font-weight: 600;
    cursor: grab;
    user-select: none;
    border-radius: 20px; /* Slightly larger border radius */
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    transform-style: preserve-3d;
    
}

        .puzzle-piece:hover {
            transform: scale(1.1) rotateY(5deg);
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
            background: linear-gradient(to bottom, #ff99c2, #ff80ab);
        }

        .puzzle-piece.dragging {
            opacity: 0.8;
            transform: scale(1.15) rotateY(0deg);
            box-shadow: 0 0 25px rgba(255, 105, 180, 0.7);
        }

        #poem {
            display: none;
            left:auto;
            max-width: 600px;
            font-size: 1.4em;
            font-weight: 700;
            color: #880088;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            animation: fadeIn 1.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: confetti-fall 3.5s linear infinite;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-120vh) rotate(0deg); opacity: 0; }
            50% { opacity: 1;}
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0;}
        }

        button {
            margin: 15px;
            padding: 12px 25px;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            background: linear-gradient(to bottom, #880088, #aa00aa);
            color: white;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            background: linear-gradient(to bottom, #aa00aa, #cc00cc);
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(136, 0, 136, 0.3);
        }

        /* Poem Container */
        .poem-container {
            margin-top: 30px;
            font-size: 1.2em;
            color: #666;
            animation: slideIn 1s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-100%); }
            to { opacity: 1; transform: translateX(0); }
        }

        .poem-container p {
            margin-bottom: 10px;
        }
        
       

        /* Custom Cursor */
        body {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%23552288" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>'), auto;
        }
    </style>
</head>
<body>

   
    <h1>Arrange the Puzzle to Reveal the Secret Poem</h1>
    <div id="puzzle-container"></div>
    <div id="poem">The stars aligned, the words now shine,<br> This love was always yours and mine. ðŸ’–</div>
    <button onclick="giveHint()">Hint</button>
    <button onclick="location.href='index.html'">Back to Home</button>

    

    <audio id="success-sound" src="./audios/applause-sound-effect-240470.mp3"></audio>
    <audio id="click-sound" src="./audios/mouse-click-sound-233951.mp3"></audio>
    <script>
        const poemLines = [
    "First In your eyes, the heavens shine bright,",
    "Second A wish in the stars, a spark in the night.",
    "Third Soft as a whisper, steady as fate,",
    "Fourth Threads of our love, too strong to break.",
    "Five Fingers that dance, tracing the sky,",
    "Six Love like the moon, glowing so high.",
    "Seven Our hearts align, like stars in a row,",
    "Eight Guiding us home, wherever we go.",
    "Nine I love you, my darling, now and back then."
];


        const puzzleContainer = document.getElementById("puzzle-container");
        let shuffledPieces = poemLines.map((line, index) => ({ text: line, index })).sort(() => Math.random() - 0.5);

        shuffledPieces.forEach(piece => {
            let div = document.createElement("div");
            div.classList.add("puzzle-piece");
            div.textContent = piece.text;
            div.draggable = true;
            div.dataset.index = piece.index;
            puzzleContainer.appendChild(div);
        });

        let selectedPiece = null;

        puzzleContainer.addEventListener("dragstart", e => {
            selectedPiece = e.target;
            selectedPiece.classList.add("dragging");
            document.getElementById("click-sound").play();
        });

        puzzleContainer.addEventListener("dragend", () => {
            if (selectedPiece) {
                selectedPiece.classList.remove("dragging");
            }
        });

        puzzleContainer.addEventListener("dragover", e => {
            e.preventDefault();
        });

        puzzleContainer.addEventListener("drop", e => {
            if (selectedPiece && e.target.classList.contains("puzzle-piece")) {
                let tempText = selectedPiece.textContent;
                selectedPiece.textContent = e.target.textContent;
                e.target.textContent = tempText;
                document.getElementById("click-sound").play();
            }
            checkOrder();
        });

        function checkOrder() {
            let currentOrder = Array.from(document.querySelectorAll(".puzzle-piece")).map(piece => piece.textContent);
            if (currentOrder.join("") === poemLines.join("")) {
                document.getElementById("poem").style.display = "block";
                document.getElementById("success-sound").play();
                celebrate();
            }
        }

        function giveHint() {
            alert("Look closely at the words, the correct order follows the rhythm of a poem!");
        }

        function celebrate() {
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 2000);
            }
        }
    </script>
</body>
</html>